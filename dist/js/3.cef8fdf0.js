(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{289:function(t,e,n){"use strict";n.r(e);var a=n(294);n(291);function i(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var r={data:function(){return{updateTime:"",svg:null,leaf:null,channelData:[],tooltip:null,channelName:"",subscriberCount:"",viewCount:""}},computed:{formatUpdateTime:function(){if(!this.updateTime)return"";var t=this.updateTime.getFullYear(),e=this.padStart(this.updateTime.getMonth()+1),n=this.padStart(this.updateTime.getDate()),a=this.padStart(this.updateTime.getHours()),i=this.padStart(this.updateTime.getMinutes()),r=this.padStart(this.updateTime.getSeconds());return"".concat(t,"/").concat(e,"/").concat(n," ").concat(a,":").concat(i,":").concat(r)}},mounted:function(){var n=this;a.c("data.json").then(function(t){var e;(e=n.channelData).push.apply(e,i(t.channels)),n.updateTime=new Date(t.updateTime),n.createChart()}),window.addEventListener("resize",this.renderCircle)},beforeDestroy:function(){window.removeEventListener("resize",this.renderCircle)},methods:{padStart:function(t){return String(t).padStart(2,"0")},createChart:function(){this.tooltip=a.e(".tooltip"),this.svg=a.e("#chart").append("svg").attr("width","100%").attr("height","100%"),this.svg.append("defs").selectAll(".flag").data(this.channelData).enter().append("pattern").attr("id",function(t){return t.id}).attr("width","100%").attr("height","100%").attr("patternContentUnits","objectBoundingBox").append("image").attr("width",1).attr("height",1).attr("preserveAspectRatio","xMidYMid slice").attr("xlink:href",function(t){return t.thumbnail}),this.renderCircle()},renderCircle:function(){var t=document.body.offsetWidth,e=document.body.offsetHeight,n=a.d().size([t-2,e-2]).padding(3)(a.b({children:this.channelData}).sum(function(t){return t.subscriberCount}));if(this.leaf)return this.leaf.data(n.leaves()).attr("transform",function(t){return"translate(".concat(t.x+1,",").concat(t.y+1,")")}),void this.leaf.select("circle").attr("r",function(t){return t.r});this.leaf=this.svg.selectAll("g").data(n.leaves()).join("g").attr("transform",function(t){return"translate(".concat(t.x+1,",").concat(t.y+1,")")}).on("mouseover",this.handleMouseOver).on("mouseout",this.handleMouseOut).on("click",this.handleClick),this.leaf.append("circle").attr("r",function(t){return t.r}).attr("fill",function(t){return"url(#".concat(t.data.id,")")}).style("cursor","pointer")},handleMouseOver:function(t){this.channelName=t.data.title,this.subscriberCount=a.a(",")(t.data.subscriberCount),this.viewCount=a.a(",")(t.data.viewCount);var e=t.y-t.r-83;e<=5&&(e=t.y+t.r+3);var n=Math.min(Math.max(t.x-115,5),document.body.offsetWidth-230-5);this.tooltip.transition().duration(200).style("opacity",1),this.tooltip.style("transform","translate(".concat(n,"px, ").concat(e,"px)"))},handleMouseOut:function(t){this.tooltip.transition().duration(500).style("opacity",0)},handleClick:function(t){window.open("https://www.youtube.com/channel/".concat(t.data.id))}}},o=(n(292),n(293)),s=Object(o.a)(r,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"chart",attrs:{id:"chart"}},[n("div",{staticClass:"update-time"},[t._v(t._s("> 更新時間 "+t.formatUpdateTime))]),t._v(" "),n("div",{staticClass:"tooltip"},[n("div",{staticClass:"channel-name"},[t._v(t._s(t.channelName))]),t._v(" "),n("div",{staticClass:"tooltip__rule"}),t._v(" "),n("div",{staticClass:"subscriber-count"},[t._v("登録数："+t._s(t.subscriberCount))]),t._v(" "),n("div",{staticClass:"view-count"},[t._v("再生数："+t._s(t.viewCount))])])])},[],!1,null,"7f085938",null);e.default=s.exports},290:function(t,e,n){},291:function(t){t.exports={}},292:function(t,e,n){"use strict";var a=n(290);n.n(a).a}}]);